{"ast":null,"code":"import _classCallCheck from \"F:/study/JavaScript Tutorial/ReactJs/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"F:/study/JavaScript Tutorial/ReactJs/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"F:/study/JavaScript Tutorial/ReactJs/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"F:/study/JavaScript Tutorial/ReactJs/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nvar _jsxFileName = \"F:\\\\study\\\\JavaScript Tutorial\\\\ReactJs\\\\src\\\\pages\\\\Feed\\\\SinglePost\\\\SinglePost.js\";\nimport React, { Component } from \"react\";\nimport Image from \"../../../components/Image/Image\";\nimport \"./SinglePost.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar SinglePost = /*#__PURE__*/function (_Component) {\n  _inherits(SinglePost, _Component);\n  var _super = _createSuper(SinglePost);\n  function SinglePost() {\n    var _this;\n    _classCallCheck(this, SinglePost);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      title: \"\",\n      author: \"\",\n      date: \"\",\n      image: \"\",\n      content: \"\"\n    };\n    return _this;\n  }\n  _createClass(SinglePost, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n      var postId = this.props.match.params.postId;\n      var graphqlQuery = {\n        query: \"query FetchSinglePost($postId: ID!) {\\n        post(id: $postId) {\\n          title\\n          content\\n          imageUrl\\n          creator {\\n            name\\n          }\\n          createdAt\\n        }\\n      }\\n    \",\n        variables: {\n          postId: postId\n        }\n      };\n      fetch(\"http://localhost:8080/graphql\", {\n        method: \"POST\",\n        headers: {\n          Authorization: \"Bearer \" + this.props.token,\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(graphqlQuery)\n      }).then(function (res) {\n        return res.json();\n      }).then(function (resData) {\n        if (resData.errors) {\n          throw new Error(\"Fetching post failed!\");\n        }\n        _this2.setState({\n          title: resData.data.post.title,\n          author: resData.data.post.creator.name,\n          image: \"http://localhost:8080/\" + resData.data.post.imageUrl,\n          date: new Date(resData.data.post.createdAt).toLocaleDateString(\"en-US\"),\n          content: resData.data.post.content\n        });\n      }).catch(function (err) {\n        console.log(err);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"single-post\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: this.state.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [\"Created by \", this.state.author, \" on \", this.state.date]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"single-post__image\",\n          children: /*#__PURE__*/_jsxDEV(Image, {\n            contain: true,\n            imageUrl: this.state.image\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: this.state.content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 7\n      }, this);\n    }\n  }]);\n  return SinglePost;\n}(Component);\nexport default SinglePost;","map":{"version":3,"names":["React","Component","Image","jsxDEV","_jsxDEV","SinglePost","_Component","_inherits","_super","_createSuper","_this","_classCallCheck","_len","arguments","length","args","Array","_key","call","apply","concat","state","title","author","date","image","content","_createClass","key","value","componentDidMount","_this2","postId","props","match","params","graphqlQuery","query","variables","fetch","method","headers","Authorization","token","body","JSON","stringify","then","res","json","resData","errors","Error","setState","data","post","creator","name","imageUrl","Date","createdAt","toLocaleDateString","catch","err","console","log","render","className","children","fileName","_jsxFileName","lineNumber","columnNumber","contain"],"sources":["F:/study/JavaScript Tutorial/ReactJs/src/pages/Feed/SinglePost/SinglePost.js"],"sourcesContent":["import React, { Component } from \"react\";\n\nimport Image from \"../../../components/Image/Image\";\nimport \"./SinglePost.css\";\n\nclass SinglePost extends Component {\n  state = {\n    title: \"\",\n    author: \"\",\n    date: \"\",\n    image: \"\",\n    content: \"\",\n  };\n\n  componentDidMount() {\n    const postId = this.props.match.params.postId;\n\n    const graphqlQuery = {\n      query: `query FetchSinglePost($postId: ID!) {\n        post(id: $postId) {\n          title\n          content\n          imageUrl\n          creator {\n            name\n          }\n          createdAt\n        }\n      }\n    `,\n    variables: {\n      postId: postId\n    }\n  };\n\n    fetch(\"http://localhost:8080/graphql\", {\n      method: \"POST\",\n      headers: {\n        Authorization: \"Bearer \" + this.props.token,\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(graphqlQuery),\n    })\n      .then((res) => {\n        return res.json();\n      })\n      .then((resData) => {\n        if (resData.errors) {\n          throw new Error(\"Fetching post failed!\");\n        }\n        this.setState({\n          title: resData.data.post.title,\n          author: resData.data.post.creator.name,\n          image: \"http://localhost:8080/\" + resData.data.post.imageUrl,\n          date: new Date(resData.data.post.createdAt).toLocaleDateString(\n            \"en-US\"\n          ),\n          content: resData.data.post.content,\n        });\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  render() {\n    return (\n      <section className=\"single-post\">\n        <h1>{this.state.title}</h1>\n        <h2>\n          Created by {this.state.author} on {this.state.date}\n        </h2>\n        <div className=\"single-post__image\">\n          <Image contain imageUrl={this.state.image} />\n        </div>\n        <p>{this.state.content}</p>\n      </section>\n    );\n  }\n}\n\nexport default SinglePost;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}